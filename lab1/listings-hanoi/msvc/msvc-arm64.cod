; Listing generated by Microsoft (R) Optimizing Compiler Version 19.24.28319.0 

	TTL	C:\Work\lab1\hanoi.c
	ARM64

	AREA	|.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|__local_stdio_printf_options|
	EXPORT	|_vfprintf_l|
	EXPORT	|printf|
	EXPORT	|hanoi|
	EXPORT	|main|
	IMPORT	|__acrt_iob_func|
	IMPORT	|__stdio_common_vfprintf|

	AREA	|.data|, DATA
	 COMMON	|?_OptionsStorage@?1??__local_stdio_printf_options@@9@9|, 0x8
							; `__local_stdio_printf_options'::`2'::_OptionsStorage

	AREA	|.pdata|, PDATA
|$pdata$_vfprintf_l| DCD imagerel |$LN3|
	DCD	0x260004d
	;Flags[SingleProEpi] functionLength[76] RegF[0] RegI[0] H[0] frameChainReturn[Chained] frameSize[64]

	AREA	|.pdata|, PDATA
|$pdata$printf| DCD imagerel |$LN3|
	DCD	imagerel |$unwind$printf|

	AREA	|.pdata|, PDATA
|$pdata$hanoi| DCD imagerel |$LN5|
	DCD	0x16000c1
	;Flags[SingleProEpi] functionLength[192] RegF[0] RegI[0] H[0] frameChainReturn[Chained] frameSize[32]
|$pdata$main| DCD imagerel |$LN3|
	DCD	0xe00029
	;Flags[SingleProEpi] functionLength[40] RegF[0] RegI[0] H[0] frameChainReturn[Chained] frameSize[16]

	AREA	|.data|, DATA
|$SG5048| DCB	"Move disk 1 from %c to %c", 0xa, 0x0
	%	5
|$SG5049| DCB	"Move disk %d from %c to %c", 0xa, 0x0

	AREA	|.xdata|, DATA
|$unwind$printf| DCD 0x1a20001a
	DCD	0xe3e385e1
	DCD	0xe404e3e3
	DCD	0xe3e40485
	;Code Words[3], Epilog Start Index[8], E[1], X[0], Function Length[26]=104 bytes
	;set_fp
	;save_fplr_x
	;nop
	;nop
	;nop
	;nop
	;alloc_s
	;end
	;save_fplr_x
	;alloc_s
	;end
	;nop
; Function compile flags: /Odsp
; File C:\Work\lab1\hanoi.c

	AREA	|.text$mn|, CODE, ARM64

  00000		 |main|	 PROC

; 14   : {

  00000		 |$LN3|
  00000	a9bf7bfd	 stp         fp,lr,[sp,#-0x10]!
  00004	910003fd	 mov         fp,sp

; 15   :     hanoi(3, 'A', 'C', 'B');

  00008	52800843	 mov         w3,#0x42
  0000c	52800862	 mov         w2,#0x43
  00010	52800821	 mov         w1,#0x41
  00014	52800060	 mov         w0,#3
  00018	94000000	 bl          hanoi

; 16   : }

  0001c	52800000	 mov         w0,#0
  00020	a8c17bfd	 ldp         fp,lr,[sp],#0x10
  00024	d65f03c0	 ret

			 ENDP  ; |main|

; Function compile flags: /Odsp
; File C:\Work\lab1\hanoi.c

	AREA	|.text$mn|, CODE, ARM64

  00000		 |hanoi| PROC

; 3    : {

  00000		 |$LN5|
  00000	a9be7bfd	 stp         fp,lr,[sp,#-0x20]!
  00004	910003fd	 mov         fp,sp
  00008	b90017e0	 str         w0,[sp,#0x14]
  0000c	13001c28	 sxtb        w8,w1
  00010	390043e8	 strb        w8,[sp,#0x10]
  00014	13001c48	 sxtb        w8,w2
  00018	390047e8	 strb        w8,[sp,#0x11]
  0001c	13001c68	 sxtb        w8,w3
  00020	39004be8	 strb        w8,[sp,#0x12]

; 4    :     if (n == 1)

  00024	b94017e8	 ldr         w8,[sp,#0x14]
  00028	7100051f	 cmp         w8,#1
  0002c	54000001	 bne         |$LN2@hanoi|

; 5    :         printf("Move disk 1 from %c to %c\n", from, to);

  00030	39c047e2	 ldrsb       w2,[sp,#0x11]
  00034	2a0203e2	 mov         w2,w2
  00038	39c043e1	 ldrsb       w1,[sp,#0x10]
  0003c	2a0103e1	 mov         w1,w1
  00040	2a0203e2	 mov         w2,w2
  00044	2a0103e1	 mov         w1,w1
  00048	90000008	 adrp        x8,|$SG5048|
  0004c	91000100	 add         x0,x8,PageOffset(|$SG5048|)
  00050	94000000	 bl          printf
  00054	14000019	 b           |$LN3@hanoi|
  00058		 |$LN2@hanoi|

; 6    :     else
; 7    :     {
; 8    :         hanoi(n - 1, from, aux, to);

  00058	b94017e8	 ldr         w8,[sp,#0x14]
  0005c	51000500	 sub         w0,w8,#1
  00060	39c047e3	 ldrsb       w3,[sp,#0x11]
  00064	39c04be2	 ldrsb       w2,[sp,#0x12]
  00068	39c043e1	 ldrsb       w1,[sp,#0x10]
  0006c	2a0003e0	 mov         w0,w0
  00070	94000000	 bl          hanoi

; 9    :         printf("Move disk %d from %c to %c\n", n, from, to);

  00074	39c047e3	 ldrsb       w3,[sp,#0x11]
  00078	2a0303e3	 mov         w3,w3
  0007c	39c043e2	 ldrsb       w2,[sp,#0x10]
  00080	2a0203e2	 mov         w2,w2
  00084	2a0303e3	 mov         w3,w3
  00088	2a0203e2	 mov         w2,w2
  0008c	b94017e1	 ldr         w1,[sp,#0x14]
  00090	90000008	 adrp        x8,|$SG5049|
  00094	91000100	 add         x0,x8,PageOffset(|$SG5049|)
  00098	94000000	 bl          printf

; 10   :         hanoi(n - 1, aux, to, from);

  0009c	b94017e8	 ldr         w8,[sp,#0x14]
  000a0	51000500	 sub         w0,w8,#1
  000a4	39c043e3	 ldrsb       w3,[sp,#0x10]
  000a8	39c047e2	 ldrsb       w2,[sp,#0x11]
  000ac	39c04be1	 ldrsb       w1,[sp,#0x12]
  000b0	2a0003e0	 mov         w0,w0
  000b4	94000000	 bl          hanoi
  000b8		 |$LN3@hanoi|
  000b8	a8c27bfd	 ldp         fp,lr,[sp],#0x20
  000bc	d65f03c0	 ret

			 ENDP  ; |hanoi|

; Function compile flags: /Odsp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.18362.0\ucrt\stdio.h

	AREA	|.text$mn|, CODE, ARM64

  00000		 |printf| PROC

; 954  :     {

  00000		 |$LN3|
  00000	d10103ff	 sub         sp,sp,#0x40
  00004	a9008be1	 stp         x1,x2,[sp,#8]
  00008	a90193e3	 stp         x3,x4,[sp,#0x18]
  0000c	a9029be5	 stp         x5,x6,[sp,#0x28]
  00010	f9001fe7	 str         x7,[sp,#0x38]
  00014	a9bd7bfd	 stp         fp,lr,[sp,#-0x30]!
  00018	910003fd	 mov         fp,sp
  0001c	f90013e0	 str         x0,[sp,#0x20]

; 955  :         int _Result;
; 956  :         va_list _ArgList;
; 957  :         __crt_va_start(_ArgList, _Format);

  00020	9100e3e8	 add         x8,sp,#0x38
  00024	f9000fe8	 str         x8,[sp,#0x18]

; 958  :         _Result = _vfprintf_l(stdout, _Format, NULL, _ArgList);

  00028	52800020	 mov         w0,#1
  0002c	94000000	 bl          __acrt_iob_func
  00030	f90017e0	 str         x0,[sp,#0x28]
  00034	f9400fe3	 ldr         x3,[sp,#0x18]
  00038	d2800002	 mov         x2,#0
  0003c	f94013e1	 ldr         x1,[sp,#0x20]
  00040	f94017e0	 ldr         x0,[sp,#0x28]
  00044	94000000	 bl          _vfprintf_l
  00048	2a0003e0	 mov         w0,w0
  0004c	b90013e0	 str         w0,[sp,#0x10]

; 959  :         __crt_va_end(_ArgList);

  00050	d2800008	 mov         x8,#0
  00054	f9000fe8	 str         x8,[sp,#0x18]

; 960  :         return _Result;

  00058	b94013e0	 ldr         w0,[sp,#0x10]
  0005c	a8c37bfd	 ldp         fp,lr,[sp],#0x30
  00060	910103ff	 add         sp,sp,#0x40
  00064	d65f03c0	 ret

			 ENDP  ; |printf|

; Function compile flags: /Odsp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.18362.0\ucrt\stdio.h

	AREA	|.text$mn|, CODE, ARM64

  00000		 |_vfprintf_l| PROC

; 642  :     {

  00000		 |$LN3|
  00000	a9bc7bfd	 stp         fp,lr,[sp,#-0x40]!
  00004	910003fd	 mov         fp,sp
  00008	f9001be0	 str         x0,[sp,#0x30]
  0000c	f90017e1	 str         x1,[sp,#0x28]
  00010	f90013e2	 str         x2,[sp,#0x20]
  00014	f9000fe3	 str         x3,[sp,#0x18]

; 643  :         return __stdio_common_vfprintf(_CRT_INTERNAL_LOCAL_PRINTF_OPTIONS, _Stream, _Format, _Locale, _ArgList);

  00018	94000000	 bl          __local_stdio_printf_options
  0001c	f9001fe0	 str         x0,[sp,#0x38]
  00020	f9400fe4	 ldr         x4,[sp,#0x18]
  00024	f94013e3	 ldr         x3,[sp,#0x20]
  00028	f94017e2	 ldr         x2,[sp,#0x28]
  0002c	f9401be1	 ldr         x1,[sp,#0x30]
  00030	f9401fe8	 ldr         x8,[sp,#0x38]
  00034	f9400100	 ldr         x0,[x8]
  00038	94000000	 bl          __stdio_common_vfprintf
  0003c	b90013e0	 str         w0,[sp,#0x10]
  00040	b94013e0	 ldr         w0,[sp,#0x10]
  00044	a8c47bfd	 ldp         fp,lr,[sp],#0x40
  00048	d65f03c0	 ret

			 ENDP  ; |_vfprintf_l|

; Function compile flags: /Odsp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.18362.0\ucrt\corecrt_stdio_config.h

	AREA	|.text$mn|, CODE, ARM64

  00000		 |__local_stdio_printf_options| PROC

; 87   :         static unsigned __int64 _OptionsStorage;
; 88   :         return &_OptionsStorage;

  00000	90000008	 adrp        x8,|?_OptionsStorage@?1??__local_stdio_printf_options@@9@9|
  00004	91000100	 add         x0,x8,PageOffset(|?_OptionsStorage@?1??__local_stdio_printf_options@@9@9|)
  00008	d65f03c0	 ret

			 ENDP  ; |__local_stdio_printf_options|

	END

