; Listing generated by Microsoft (R) Optimizing Compiler Version 19.24.28319.0 

	TTL	C:\Work\lab1\hanoi.c
	THUMB
	.drectve
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|__local_stdio_printf_options|
	EXPORT	|_vfprintf_l|
	EXPORT	|printf|
	EXPORT	|hanoi|
	EXPORT	|main|
	IMPORT	|__acrt_iob_func|
	IMPORT	|__stdio_common_vfprintf|
	.data
	 COMMON	|?_OptionsStorage@?1??__local_stdio_printf_options@@9@9|, 0x8
							; `__local_stdio_printf_options'::`2'::_OptionsStorage
;	COMDAT .pdata
.pdata	SEGMENT
|$pdata1$__local_stdio_printf_options| DCD imagerel |__local_stdio_printf_options|
	DCD	imagerel |$unwind2$__local_stdio_printf_options|
;	COMDAT .xdata
.xdata	SEGMENT
|$unwind2$__local_stdio_printf_options| DCD 0x32a0000a
	DCD	0xa8fb02
	DCD	0xa802ff
	DCD	0xff
;	COMDAT .pdata
.pdata	SEGMENT
|$pdata1$_vfprintf_l| DCD imagerel |_vfprintf_l|
	DCD	imagerel |$unwind2$_vfprintf_l|
;	COMDAT .xdata
.xdata	SEGMENT
|$unwind2$_vfprintf_l| DCD 0x3320001d
	DCD	0xa8fb06
	DCD	0x8806ff04
	DCD	0xff05ef00
;	COMDAT .pdata
.pdata	SEGMENT
|$pdata1$printf| DCD imagerel |printf|
	DCD	imagerel |$unwind2$printf|
;	COMDAT .xdata
.xdata	SEGMENT
|$unwind2$printf| DCD 0x3320001d
	DCD	0xa8fb04
	DCD	0x8804ff04
	DCD	0xff05ef00
	.pdata
|$pdata1$hanoi| DCD imagerel |hanoi|
	DCD	imagerel |$unwind2$hanoi|
	.xdata
|$unwind2$hanoi| DCD 0x32a0002f
	DCD	0x400a8fb
	DCD	0xef0088ff
	DCD	0xff05
	.pdata
|$pdata1$main| DCD imagerel |main|
	DCD	imagerel |$unwind2$main|
	.xdata
|$unwind2$main| DCD 0x32a00010
	DCD	0xa8fb02
	DCD	0xa802ff
	DCD	0xff
	.data
|$SG5508| DCB	"Move disk 1 from %c to %c", 0xa, 0x0
	%	1
|$SG5509| DCB	"Move disk %d from %c to %c", 0xa, 0x0
; Function compile flags: /Odsp
; File C:\Work\lab1\hanoi.c
	.text$mn

  00000		 |main|	 PROC

; 14   : {

  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006	b082		 sub         sp,sp,#8
  00008		 |$M4|

; 15   :     hanoi(3, 'A', 'C', 'B');

  00008	2342		 movs        r3,#0x42
  0000a	2243		 movs        r2,#0x43
  0000c	2141		 movs        r1,#0x41
  0000e	2003		 movs        r0,#3
  00010	f000 f800	 bl          hanoi

; 16   : }

  00014	2300		 movs        r3,#0
  00016	9300		 str         r3,[sp]
  00018	9800		 ldr         r0,[sp]
  0001a		 |$M3|
  0001a	b002		 add         sp,sp,#8
  0001c	e8bd 8800	 pop         {r11,pc}
  00020		 |$M5|

			 ENDP  ; |main|

; Function compile flags: /Odsp
; File C:\Work\lab1\hanoi.c
	.text$mn

  00000		 |hanoi| PROC

; 3    : {

  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008		 |$M10|

; 4    :     if (n == 1)

  00008	9b02		 ldr         r3,[sp,#8]
  0000a	2b01		 cmp         r3,#1
  0000c	d107		 bne         |$LN2@hanoi|

; 5    :         printf("Move disk 1 from %c to %c\n", from, to);

  0000e	f99d 2010	 ldrsb       r2,[sp,#0x10]
  00012	f99d 100c	 ldrsb       r1,[sp,#0xC]
  00016	4813		 ldr         r0,|$LN8@hanoi|	; =|$SG5508|
  00018	f000 f800	 bl          printf
  0001c	e01b		 b           |$LN3@hanoi|
  0001e		 |$LN2@hanoi|

; 6    :     else
; 7    :     {
; 8    :         hanoi(n - 1, from, aux, to);

  0001e	f99d 3010	 ldrsb       r3,[sp,#0x10]
  00022	f99d 2014	 ldrsb       r2,[sp,#0x14]
  00026	f99d 100c	 ldrsb       r1,[sp,#0xC]
  0002a	9802		 ldr         r0,[sp,#8]
  0002c	1e40		 subs        r0,r0,#1
  0002e	f000 f800	 bl          hanoi

; 9    :         printf("Move disk %d from %c to %c\n", n, from, to);

  00032	f99d 3010	 ldrsb       r3,[sp,#0x10]
  00036	f99d 200c	 ldrsb       r2,[sp,#0xC]
  0003a	9902		 ldr         r1,[sp,#8]
  0003c	4808		 ldr         r0,|$LN7@hanoi|	; =|$SG5509|
  0003e	f000 f800	 bl          printf

; 10   :         hanoi(n - 1, aux, to, from);

  00042	f99d 300c	 ldrsb       r3,[sp,#0xC]
  00046	f99d 2010	 ldrsb       r2,[sp,#0x10]
  0004a	f99d 1014	 ldrsb       r1,[sp,#0x14]
  0004e	9802		 ldr         r0,[sp,#8]
  00050	1e40		 subs        r0,r0,#1
  00052	f000 f800	 bl          hanoi
  00056		 |$LN3@hanoi|
  00056		 |$M5|

; 11   :     }
; 12   : }

  00056	f85d bb04	 pop         {r11}
  0005a	f85d fb14	 ldr         pc,[sp],#0x14
  0005e		 |$M9|
  0005e	defe		 __debugbreak
  00060		 |$LN6@hanoi|
  00060		 |$LN7@hanoi|
  00060	0000 0000	 DCD         |$SG5509|
  00064		 |$LN8@hanoi|
  00064	0000 0000	 DCD         |$SG5508|
  00068		 |$M11|

			 ENDP  ; |hanoi|

; Function compile flags: /Odsp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.18362.0\ucrt\stdio.h
;	COMDAT printf
.text$mn	SEGMENT

  00000		 |printf| PROC

; 954  :     {

  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	b084		 sub         sp,sp,#0x10
  0000a		 |$M4|

; 955  :         int _Result;
; 956  :         va_list _ArgList;
; 957  :         __crt_va_start(_ArgList, _Format);

  0000a	ab06		 add         r3,sp,#0x18
  0000c	1d1b		 adds        r3,r3,#4
  0000e	9300		 str         r3,[sp]

; 958  :         _Result = _vfprintf_l(stdout, _Format, NULL, _ArgList);

  00010	2001		 movs        r0,#1
  00012	f000 f800	 bl          __acrt_iob_func
  00016	9001		 str         r0,[sp,#4]
  00018	9b00		 ldr         r3,[sp]
  0001a	2200		 movs        r2,#0
  0001c	9906		 ldr         r1,[sp,#0x18]
  0001e	9801		 ldr         r0,[sp,#4]
  00020	f000 f800	 bl          _vfprintf_l
  00024	9002		 str         r0,[sp,#8]

; 959  :         __crt_va_end(_ArgList);

  00026	2300		 movs        r3,#0
  00028	9300		 str         r3,[sp]

; 960  :         return _Result;

  0002a	9b02		 ldr         r3,[sp,#8]
  0002c	9303		 str         r3,[sp,#0xC]

; 961  :     }

  0002e	9803		 ldr         r0,[sp,#0xC]
  00030		 |$M3|
  00030	b004		 add         sp,sp,#0x10
  00032	f85d bb04	 pop         {r11}
  00036	f85d fb14	 ldr         pc,[sp],#0x14
  0003a		 |$M5|

			 ENDP  ; |printf|

; Function compile flags: /Odsp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.18362.0\ucrt\stdio.h
;	COMDAT _vfprintf_l
.text$mn	SEGMENT

  00000		 |_vfprintf_l| PROC

; 642  :     {

  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	b086		 sub         sp,sp,#0x18
  0000a		 |$M4|

; 643  :         return __stdio_common_vfprintf(_CRT_INTERNAL_LOCAL_PRINTF_OPTIONS, _Stream, _Format, _Locale, _ArgList);

  0000a	f000 f800	 bl          __local_stdio_printf_options
  0000e	9002		 str         r0,[sp,#8]
  00010	9b0b		 ldr         r3,[sp,#0x2C]
  00012	9301		 str         r3,[sp,#4]
  00014	9b0a		 ldr         r3,[sp,#0x28]
  00016	9300		 str         r3,[sp]
  00018	9b09		 ldr         r3,[sp,#0x24]
  0001a	9a08		 ldr         r2,[sp,#0x20]
  0001c	9902		 ldr         r1,[sp,#8]
  0001e	6808		 ldr         r0,[r1]
  00020	9902		 ldr         r1,[sp,#8]
  00022	6849		 ldr         r1,[r1,#4]
  00024	f000 f800	 bl          __stdio_common_vfprintf
  00028	9003		 str         r0,[sp,#0xC]
  0002a	9b03		 ldr         r3,[sp,#0xC]
  0002c	9304		 str         r3,[sp,#0x10]

; 644  :     }

  0002e	9804		 ldr         r0,[sp,#0x10]
  00030		 |$M3|
  00030	b006		 add         sp,sp,#0x18
  00032	f85d bb04	 pop         {r11}
  00036	f85d fb14	 ldr         pc,[sp],#0x14
  0003a		 |$M5|

			 ENDP  ; |_vfprintf_l|

; Function compile flags: /Odsp
; File C:\Program Files (x86)\Windows Kits\10\include\10.0.18362.0\ucrt\corecrt_stdio_config.h
;	COMDAT __local_stdio_printf_options
.text$mn	SEGMENT

  00000		 |__local_stdio_printf_options| PROC

; 86   :     {

  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006	b082		 sub         sp,sp,#8
  00008		 |$M6|

; 87   :         static unsigned __int64 _OptionsStorage;
; 88   :         return &_OptionsStorage;

  00008	4b02		 ldr         r3,|$LN5@local_stdi| ; =|?_OptionsStorage@?1??__local_stdio_printf_options@@9@9|
  0000a	9300		 str         r3,[sp]

; 89   :     }

  0000c	9800		 ldr         r0,[sp]
  0000e		 |$M3|
  0000e	b002		 add         sp,sp,#8
  00010	e8bd 8800	 pop         {r11,pc}
  00014		 |$LN4@local_stdi|
  00014		 |$LN5@local_stdi|
  00014	0000 0000	 DCD         |?_OptionsStorage@?1??__local_stdio_printf_options@@9@9|
  00018		 |$M7|

			 ENDP  ; |__local_stdio_printf_options|

	END

